(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Login"],{3547:function(t,e,i){t.exports=i.p+"img/phone.20f09b3f.png"},"51e1":function(t,e,i){t.exports=i.p+"img/login-back.0428876e.png"},"554f":function(t,e,i){t.exports=i.p+"img/login-error.49d1678e.png"},6432:function(t,e,i){t.exports=i.p+"img/people.4e0bef12.png"},8512:function(t,e,i){"use strict";var o=i("f2e8"),n=i.n(o);n.a},"856c":function(t,e,i){t.exports=i.p+"img/login-bg.03c4c5d3.png"},a55b:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"all-login"},[o("img",{staticClass:"login-bg",attrs:{src:i("856c")}}),t.isLoginError?t._e():o("div",{staticClass:"login-info"},[o("div",{staticClass:"login-name"},[o("img",{attrs:{src:i("6432")}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],attrs:{type:"text",placeholder:"门店编号"},domProps:{value:t.code},on:{input:function(e){e.target.composing||(t.code=e.target.value)}}})]),o("div",{staticClass:"login-name"},[o("img",{attrs:{src:i("3547")}}),o("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"text",placeholder:"手机号"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})])]),t.isLoginError?o("div",{staticClass:"login-error"},[t._m(0),o("div",{staticClass:"error-info"},[t._v("1.您未入围")]),o("div",{staticClass:"error-info"},[t._v("2.门店编号或手机号输入有误")])]):t._e(),o("img",{staticClass:"login-submit",attrs:{src:t.src},on:{click:t.doLogin}})])},n=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"error-title"},[o("img",{attrs:{src:i("554f")}}),t._v(" 无法登陆\n        ")])}],s={name:"Login",data:function(){return{isLoginError:!1,longitude:0,latitude:0,code:"",phone:"",user:{},src:i("ddf6")}},methods:{getLocation:function(){var t=this,e=new BMap.Map("allmap"),i=new BMap.Point(116.331398,39.897445);e.centerAndZoom(i,12);var o=new BMap.Geolocation;o.getCurrentPosition(function(i){if(this.getStatus()==BMAP_STATUS_SUCCESS){var o=new BMap.Marker(i.point);e.addOverlay(o),e.panTo(i.point),t.longitude=i.point.lng,t.latitude=i.point.lat}},{enableHighAccuracy:!0})},loginBack:function(){this.src=i("ddf6"),this.isLoginError=!1},loginError:function(){this.src=i("51e1"),this.isLoginError=!0},doLogin:function(){var t=this;this.$bmob.initialize("5341f8e254942033b3dae717daa7eed5","4e0664824ca488cccad8fe1508a2baa0"),this.isLoginError?this.loginBack():this.$bmob.User.login(this.code,this.phone).then(function(e){t.user=e,t.loginSuccess(),console.log(e)}).catch(function(e){t.loginError(),console.log(e)})},loginSuccess:function(){localStorage.setItem("userId",this.user.objectId),localStorage.setItem("longitude",this.longitude),localStorage.setItem("latitude",this.latitude),console.log("qqq>>>>>"+this.longitude),this.$router.push({name:"rule"})}},created:function(){this.getLocation()}},r=s,a=(i("8512"),i("2877")),c=Object(a["a"])(r,o,n,!1,null,"b44ee11c",null);e["default"]=c.exports},ddf6:function(t,e,i){t.exports=i.p+"img/login-submit.b9a97c62.png"},f2e8:function(t,e,i){}}]);
//# sourceMappingURL=Login.14bbb4c1.js.map