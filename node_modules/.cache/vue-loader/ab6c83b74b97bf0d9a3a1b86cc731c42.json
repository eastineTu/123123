{"remainingRequest":"/Users/wuchao/Documents/share/testOne/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wuchao/Documents/share/testOne/src/views/Question.vue?vue&type=style&index=0&id=29b06b20&lang=stylus&scoped=true&","dependencies":[{"path":"/Users/wuchao/Documents/share/testOne/src/views/Question.vue","mtime":1558961330844},{"path":"/Users/wuchao/Documents/share/testOne/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/wuchao/Documents/share/testOne/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/wuchao/Documents/share/testOne/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/wuchao/Documents/share/testOne/node_modules/stylus-loader/index.js","mtime":1519606876000},{"path":"/Users/wuchao/Documents/share/testOne/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wuchao/Documents/share/testOne/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.all-question\n    width 100%\n    height 100%\n    padding 0 48px\n    background-image url(../assets/common_bg.jpg)\n    background-repeat no-repeat\n    background-size 100% 100%\n    display flex\n    //#6da0d3 #ffffff\n    .question-info\n        background white\n        margin: auto\n        border 3PX solid #4875a2\n        min-height 700px\n        padding-bottom 45px\n        width 100%\n        .question-people\n            width 150px\n            height 150px\n            margin-top 30px\n        .title-name\n            font-size 32px\n        progress\n            border 2px solid #F2F2F2\n            width 350px\n            height 8px\n            color #f00;\n            background #F2F2F2\n            border-radius: 20px\n        .progress-value\n            color #4A729F\n            font-size 18px\n        .question-num\n            font-size 24px\n            margin 25px 0\n        .question-message\n            font-size 30px\n            text-align left\n            margin-left 30px\n        .select-input\n            text-align left\n            margin-top 30px\n            margin-left 150px\n            label\n                display flex\n                input\n                    margin-top 2px\n                    margin-right 10px\n        .select-photo\n            margin-top 30px\n            width 100%\n            height 200px\n    .submit-button\n        width 175px\n        height 65px\n        text-align center\n        line-height 65px\n        color white\n        margin 0 auto\n        font-size 30px\n        margin-bottom 30px\n        background-image url(../assets/button.png)\n        background-repeat no-repeat\n        background-size 100% 100%\n    .answer-info\n        padding-top 30px\n        background white\n        margin: auto\n        border 3PX solid #4875a2\n        min-height 500px\n        width 100%\n        .answer-message\n            font-size 28px\n            text-align left\n            margin-left 30px\n        .answer-info-value\n            text-align left\n            display flex\n            margin-left 30px\n            margin-top 60px\n            margin-bottom 30px\n            .title\n                font-size 30px\n                width 100px\n            .answer-info-info\n                flex 1\n                margin-top 10px\n",{"version":3,"sources":["Question.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Question.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"all-question\">\n        <div class=\"question-info\" v-if=\"isQuestion\">\n            <img class=\"question-people\" src=\"../assets/question_people.png\"/>\n            <div class=\"title-name\"> 神雕侠侣</div>\n            <progress :value='valueNum' max=\"100\"></progress>\n            <div class=\"progress-value\">{{valueNum}}%</div>\n            <div class=\"question-message\">{{questions[questionIndex].questionInfo}}</div>\n            <div class=\"select-input\" v-if=\"questionIndex < 4\">\n                <label><input name=\"Fruit\" type=\"radio\" value=\"A\"/>A:{{questions[questionIndex].selectA}}</label><br>\n                <label><input name=\"Fruit\" type=\"radio\" value=\"B\"/>B:{{questions[questionIndex].selectB}}</label><br>\n                <label><input name=\"Fruit\" type=\"radio\" value=\"C\"/>C:{{questions[questionIndex].selectC}}</label><br>\n                <label><input name=\"Fruit\" type=\"radio\" value=\"D\"/>D:{{questions[questionIndex].selectD}}</label>\n            </div>\n            <div class=\"select-input\" v-if=\"questionIndex >= 4\">\n                <label><input name=\"more\" type=\"checkbox\" value=\"A\"/>A:{{questions[questionIndex].selectA}}</label><br>\n                <label><input name=\"more\" type=\"checkbox\" value=\"B\"/>B:{{questions[questionIndex].selectB}}</label><br>\n                <label><input name=\"more\" type=\"checkbox\" value=\"C\"/>C:{{questions[questionIndex].selectC}}</label><br>\n                <label><input name=\"more\" type=\"checkbox\" value=\"D\"/>D:{{questions[questionIndex].selectD}}</label><br>\n                <label v-if=\"questions[questionIndex].selectE\">\n                    <input name=\"more\" type=\"checkbox\" value=\"E\"/>E:{{questions[questionIndex].selectE}}</label>\n            </div>\n            <div class=\"question-num\"> {{questionIndex + 1}} /10</div>\n            <div class=\"submit-button\" @click=\"doCheck()\"> 提交</div>\n        </div>\n        <div class=\"question-info\" v-if=\"isTakePhoto\">\n            <img class=\"question-people\" src=\"../assets/question_people.png\"/>\n            <div class=\"title-name\"> 神雕侠侣</div>\n            <progress :value='valueNum' max=\"100\"></progress>\n            <div class=\"progress-value\">{{valueNum}}%</div>\n            <div class=\"question-message\">{{takePhotoInfos[questionIndex - 7].info}}</div>\n            <div class=\"select-input\">\n                <label><input name=\"Fruit\" type=\"radio\" value=\"\" checked/> A：是→上传照片 </label><br>\n                <label><input name=\"Fruit\" type=\"radio\" value=\"\"/> B：否 </label>\n            </div>\n            <div class=\"select-photo\">\n                <!-- 上传图片 -->\n                <uploadImg ref=\"upload1\" :imgSrc=\"takePhotoInfos[questionIndex - 7].imgSrc\" :upType=\"'camera'\"\n                           v-on:imageSrc=\"doSetImageList\" v-on:progress=\"doProgress\"></uploadImg>\n            </div>\n            <div class=\"question-num\"> {{questionIndex + 1}} /10</div>\n            <div class=\"submit-button\" @click=\"doTakePhotoNext\"> 下一题</div>\n        </div>\n        <div class=\"answer-info\" v-if=\"isAnswer\">\n            <div class=\"answer-message\">\n                {{questions[questionIndex].questionInfo.substr(7, questions[questionIndex].questionInfo.length - 1)}}\n            </div>\n            <div class=\"answer-message\">\n                A：{{questions[questionIndex].selectA}} B：{{questions[questionIndex].selectB}}\n            </div>\n            <div class=\"answer-message\">\n                C：{{questions[questionIndex].selectC}} D：{{questions[questionIndex].selectD}}\n            </div>\n            <div class=\"answer-info-value\">\n                <div class=\"title\">答案：</div>\n                <div class=\"answer-info-info\">{{questions[questionIndex].answer}}</div>\n            </div>\n            <div class=\"answer-info-value\">\n                <div class=\"title\">解析：</div>\n                <div class=\"answer-info-info\">{{questions[questionIndex].info}}</div>\n            </div>\n            <div class=\"submit-button\" @click=\"doNext\"> 下一题</div>\n        </div>\n    </div>\n</template>\n\n<script>\n    import uploadImg from '@/components/uploadImg'\n    import { pushHistory } from '../utils/unit.js'\n    export default {\n        name: \"Login\",\n        components: {\n            uploadImg: uploadImg\n        },\n        data() {\n            return {\n                clickAble: false,\n                longitude: 0,\n                latitude: 0,\n                userId: '',\n                address: '',\n                questionIndex: 0,\n                countNum: 0,\n                valueNum: 10,\n                isQuestion: true,\n                isTakePhoto: false,\n                isAnswer: false,\n                img1: '',\n                img2: '',\n                img3: '',\n                takePhotoInfos: [{\n                    info: '(图片题）是否有独立的体验区（10分)',\n                    selectAnswer: '',\n                    imgSrc: require('../assets/take-photo.png')\n                },\n                    {info: '(图片题）是否有美容仪器（10分)', selectAnswer: '', imgSrc: require('../assets/take-photo.png')},\n                    {\n                        info: '(图片题）店内是否有生物科技护肤品的陈列（10分)',\n                        selectAnswer: '',\n                        imgSrc: require('../assets/take-photo.png')\n                    }\n                ],\n                questions: [\n                    {\n                        questionInfo: '(单选题)\\n' +\n                            '适合敏感肌肤的清洁类产品可以包含以下哪项(2分)',\n                        selectA: '皂基',\n                        selectB: '酒精香精',\n                        selectC: '人工防腐剂',\n                        selectD: '氨基酸',\n                        answer: 'D',\n                        selectAnswer: '',\n                        info: '氨基酸类洁面温和不刺激，适合敏感肌肤使用 。'\n                    },\n                    {\n                        questionInfo: '(单选题)以下哪项不属于皮肤的三大层(4分)',\n                        selectA: '角质层',\n                        selectB: '表皮层',\n                        selectC: '真皮层',\n                        selectD: '皮下组织',\n                        answer: 'A',\n                        selectAnswer: '',\n                        info: '皮肤分为三大层：表皮层、真皮层、皮下组织，而表皮层又分为5小层：角质层、透明层、颗粒层、有棘层、基底层。'\n                    },\n                    {\n                        questionInfo: '(单选题)以下哪项不属于生物科技护肤品销售人员的职业准则(6分)',\n                        selectA: '整洁的仪容仪表',\n                        selectB: '专业的皮肤知识',\n                        selectC: '专业的彩妆技巧',\n                        selectD: '熟练标准的接待流程',\n                        answer: 'C',\n                        selectAnswer: '',\n                        info: '生物科技护肤品销售人员的职业准则包含：专业皮肤知识，整洁的仪容仪表，' +\n                            '熟练的接待流程和专业的护肤手法及服务，熟知生物科技护肤品的理念和产品。'\n                    },\n                    {\n                        questionInfo: '(单选题)以下哪项不属于肌肤问题(8分)',\n                        selectA: '敏感',\n                        selectB: '特干',\n                        selectC: '混合',\n                        selectD: '痤疮',\n                        answer: 'C',\n                        selectAnswer: '',\n                        info: '混合肌属于肌肤类型，不属于肌肤问题。'\n                    },\n                    {\n                        questionInfo: '(多选题)特干肌应选择含有____成分的护肤品(15分，选对一项得3分，错选整题不得分)',\n                        selectA: '透明质酸',\n                        selectB: '烟酰胺',\n                        selectC: '水杨酸',\n                        selectD: '甘油',\n                        answer: 'ABD',\n                        selectAnswer: '',\n                        info: '对于有特干肌问题的人群来说，应选用含有增湿剂、润肤剂等成分的护肤品，而水杨酸刺激性过强，' +\n                            '主要用于消炎祛痘，不适合特干肌人群使用。'\n                    },\n                    {\n                        questionInfo: '(多选题)生物科技护肤品建立顾客档案要包含哪些内容(15分，选对一项得3分，错选整题不得分)',\n                        selectA: '顾客信息',\n                        selectB: '肌肤检测结果',\n                        selectC: '问询结果',\n                        selectD: '肌肤问题',\n                        selectE: '所购产品',\n                        answer: 'ABCDE',\n                        selectAnswer: '',\n                        info: '顾客档案不仅要包含联系信息，还要包含标准接待流程中产生的其他信息，如肌肤检测结果、问询结果、肌肤问题、所购产品等。'\n                    },\n                    {\n                        questionInfo: '(多选题)以下哪些可以是生物科技护肤品采用的水源(20分，选对一项得5分，错选整题不得分)',\n                        selectA: '温泉水',\n                        selectB: '矿泉水',\n                        selectC: '高纯水',\n                        selectD: '饮用水',\n                        answer: 'ABCD',\n                        selectAnswer: '',\n                        info: '《化妆品生产企业规范》2007规定生产用水的水质应达到国家生活饮用水卫生标准（GB5749-2006）的要求。'\n                    }\n                ]\n            }\n        },\n        methods: {\n            showToast(msg, duration) {\n                duration = isNaN(duration) ? 3000 : duration;\n                var m = document.createElement('div');\n                m.innerHTML = msg;\n                m.style.cssText = \"width:60%; min-width:180px; background:#000; opacity:0.6; height:auto;min-height: 30px; color:#fff; line-height:30px; text-align:center; border-radius:4px; position:fixed; top:60%; left:20%; z-index:999999;\";\n                document.body.appendChild(m);\n                setTimeout(function () {\n                    var d = 0.5;\n                    m.style.webkitTransition = '-webkit-transform ' + d + 's ease-in, opacity ' + d + 's ease-in';\n                    m.style.opacity = '0';\n                    setTimeout(function () {\n                        document.body.removeChild(m)\n                    }, d * 1000);\n                }, duration);\n            },\n            getCountNum() {\n                if (this.questions[this.questionIndex].selectAnswer === this.questions[this.questionIndex].answer) {\n                    if (this.questionIndex < 4) {\n                        this.countNum += ((this.questionIndex + 1) * 2)\n                    }\n                    if (this.questionIndex === 4 || this.questionIndex === 5) {\n                        this.countNum += 15\n                    }\n                    if (this.questionIndex === 6) {\n                        this.countNum += 20\n                    }\n                } else if (this.questionIndex >= 4 && this.questionIndex < 7) {\n                    if ((this.questionIndex === 4 || this.questionIndex === 5) &&\n                        this.questions[this.questionIndex].answer.indexOf(this.questions[this.questionIndex].selectAnswer) != -1) {\n                        this.countNum += this.questions[this.questionIndex].selectAnswer.length * 3\n                    } else if (this.questionIndex === 6 &&\n                        this.questions[this.questionIndex].answer.indexOf(this.questions[this.questionIndex].selectAnswer) != -1) {\n                        this.countNum += this.questions[this.questionIndex].selectAnswer.length * 5\n                    }\n                }\n                console.log('得分：' + this.countNum)\n            },\n            getRadioValue() {\n                if (this.questionIndex < 4) {\n                    let obj = document.getElementsByName(\"Fruit\")\n                    for (let i = 0; i < obj.length; i++) {\n                        if (obj[i].checked) {\n                            this.questions[this.questionIndex].selectAnswer = obj[i].value\n\n                        }\n                    }\n                } else {\n                    let obj = document.getElementsByName(\"more\")\n                    for (let i = 0; i < obj.length; i++) {\n                        if (obj[i].checked) {\n                            this.questions[this.questionIndex].selectAnswer += obj[i].value\n                        }\n                    }\n                }\n                console.log('选择：' + this.questions[this.questionIndex].selectAnswer)\n            },\n            doCheck() {\n                this.getRadioValue()\n                this.getCountNum()\n                if (this.questions[this.questionIndex].selectAnswer) {\n                    this.isQuestion = false\n                    this.isAnswer = true\n                } else {\n                    this.showToast('您还没有进行选择', 1000)\n                }\n            },\n            doNext() {\n                this.questionIndex += 1\n                this.valueNum += 10\n                if (this.questionIndex < 7) {\n                    this.isQuestion = true\n                    this.isAnswer = false\n                } else {\n                    this.isQuestion = false\n                    this.isAnswer = false\n                    this.isTakePhoto = true\n                }\n            },\n            doSetImageList(data) {\n                if (this.questionIndex === 7) {\n                    this.img1 = data\n                } else if (this.questionIndex === 8) {\n                    this.img2 = data\n                } else if (this.questionIndex === 9) {\n                    this.img3 = data\n                }\n            },\n            doProgress(data) {\n                console.log('progress>>>>' + data)\n                if (data === 100) {\n                    this.clickAble = false\n                } else {\n                    this.clickAble = true\n                }\n            },\n            doTakePhotoNext() {\n                if (this.questionIndex === 9) {\n                    if (this.img3) {\n                        this.takePhotoInfos[this.questionIndex - 7].selectAnswer = 'A'\n                    } else {\n                        this.takePhotoInfos[this.questionIndex - 7].selectAnswer = 'B'\n                    }\n                    this.doFinish()\n                } else if (this.questionIndex === 8) {\n                    if (this.img2) {\n                        this.takePhotoInfos[this.questionIndex - 7].selectAnswer = 'A'\n                    } else {\n                        this.takePhotoInfos[this.questionIndex - 7].selectAnswer = 'B'\n                    }\n                    this.questionIndex += 1\n                    this.valueNum += 10\n                } else if (this.questionIndex === 7) {\n                    if (this.img1) {\n                        this.takePhotoInfos[this.questionIndex - 7].selectAnswer = 'A'\n                    } else {\n                        this.takePhotoInfos[this.questionIndex - 7].selectAnswer = 'B'\n                    }\n                    this.questionIndex += 1\n                    this.valueNum += 10\n                }\n            },\n            doFinish() {\n                this.$bmob.initialize('5341f8e254942033b3dae717daa7eed5', '4e0664824ca488cccad8fe1508a2baa0');\n                const query = this.$bmob.Query('question');\n                if (this.img1) {\n                    query.set(\"image1\", this.img1)\n                }\n                if (this.img2) {\n                    query.set(\"image2\", this.img2)\n                }\n                if (this.img3) {\n                    query.set(\"image3\", this.img3)\n                }\n                let pointer = this.$bmob.Pointer('_User')\n                const isPublisher = pointer.set(this.userId)\n                query.set(\"user\", isPublisher)\n                const point = this.$bmob.GeoPoint({latitude: this.latitude, longitude: this.longitude})\n                query.set(\"location\", point)\n                let Q10 = []\n                this.questions.forEach((item) => {\n                    Q10.push(item.selectAnswer)\n                })\n                this.takePhotoInfos.forEach((item) => {\n                    Q10.push(item.selectAnswer)\n                })\n                query.set(\"Q10\", Q10)\n                query.set(\"count\", this.countNum)\n                query.save().then(res => {\n                    this.$router.replace({name: 'finish', params: {countNum: this.countNum}});\n                    console.log(res)\n                }).catch(err => {\n                    console.log(err)\n                })\n            }\n        },\n        mounted () {\n            pushHistory()\n            // 监听历史记录点, 添加返回事件监听\n            window.onpopstate = () => {\n                this.showToast('不能后退喔!')\n            }\n        },\n        created() {\n            this.userId = localStorage.getItem(\"userId\")\n            this.longitude = parseFloat(localStorage.getItem(\"longitude\"))\n            this.latitude = parseFloat(localStorage.getItem(\"latitude\"))\n        }\n    }\n</script>\n\n<style lang=\"stylus\" scoped>\n    .all-question\n        width 100%\n        height 100%\n        padding 0 48px\n        background-image url(../assets/common_bg.jpg)\n        background-repeat no-repeat\n        background-size 100% 100%\n        display flex\n        //#6da0d3 #ffffff\n        .question-info\n            background white\n            margin: auto\n            border 3PX solid #4875a2\n            min-height 700px\n            padding-bottom 45px\n            width 100%\n            .question-people\n                width 150px\n                height 150px\n                margin-top 30px\n            .title-name\n                font-size 32px\n            progress\n                border 2px solid #F2F2F2\n                width 350px\n                height 8px\n                color #f00;\n                background #F2F2F2\n                border-radius: 20px\n            .progress-value\n                color #4A729F\n                font-size 18px\n            .question-num\n                font-size 24px\n                margin 25px 0\n            .question-message\n                font-size 30px\n                text-align left\n                margin-left 30px\n            .select-input\n                text-align left\n                margin-top 30px\n                margin-left 150px\n                label\n                    display flex\n                    input\n                        margin-top 2px\n                        margin-right 10px\n            .select-photo\n                margin-top 30px\n                width 100%\n                height 200px\n        .submit-button\n            width 175px\n            height 65px\n            text-align center\n            line-height 65px\n            color white\n            margin 0 auto\n            font-size 30px\n            margin-bottom 30px\n            background-image url(../assets/button.png)\n            background-repeat no-repeat\n            background-size 100% 100%\n        .answer-info\n            padding-top 30px\n            background white\n            margin: auto\n            border 3PX solid #4875a2\n            min-height 500px\n            width 100%\n            .answer-message\n                font-size 28px\n                text-align left\n                margin-left 30px\n            .answer-info-value\n                text-align left\n                display flex\n                margin-left 30px\n                margin-top 60px\n                margin-bottom 30px\n                .title\n                    font-size 30px\n                    width 100px\n                .answer-info-info\n                    flex 1\n                    margin-top 10px\n</style>"]}]}